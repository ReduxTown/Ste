<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Roblox Username Sniper - Fixed 2026</title>
  <style>
    :root {
      --bg: #0d1117;
      --card: #161b22;
      --green: #00ff9d;
      --red: #ff4d4d;
      --blue: #58a6ff;
      --accent: #00c853;
    }
    body {
      font-family: system-ui, sans-serif;
      background: linear-gradient(135deg, #0d1117, #1a2332);
      color: #c9d1d9;
      margin: 0;
      padding: 20px 10px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 { font-size: 2.4rem; margin: 20px 0 10px; color: var(--green); text-shadow: 0 0 12px rgba(0,255,157,0.5); }
    .container {
      background: var(--card);
      border: 1px solid #30363d;
      border-radius: 12px;
      padding: 24px;
      width: 100%;
      max-width: 640px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.7);
    }
    label { display: block; margin: 14px 0 6px; font-weight: 600; color: #8b949e; }
    select, input[type="text"], input[type="number"], button {
      width: 100%;
      padding: 12px 14px;
      margin: 4px 0 12px;
      border: 1px solid #30363d;
      border-radius: 6px;
      background: #0d1117;
      color: #c9d1d9;
      font-size: 16px;
    }
    button {
      background: var(--accent);
      color: black;
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: all 0.25s;
    }
    button:hover:not(:disabled) { background: #00b140; transform: translateY(-2px); }
    button:disabled { background: #21262d; color: #8b949e; cursor: not-allowed; }
    .status { margin: 12px 0; padding: 10px; border-radius: 6px; background: #21262d; text-align: center; font-weight: bold; }
    .progress { height: 10px; background: #21262d; border-radius: 5px; margin: 16px 0; overflow: hidden; }
    .progress-bar { height: 100%; width: 0%; background: var(--green); transition: width 0.5s ease; }
    #resultList {
      list-style: none;
      padding: 0;
      margin: 20px 0;
      max-height: 420px;
      overflow-y: auto;
      border: 1px solid #30363d;
      border-radius: 8px;
      background: #0d1117;
    }
    #resultList li {
      padding: 12px 16px;
      border-bottom: 1px solid #21262d;
      display: flex;
      justify-content: space-between;
      font-size: 15px;
    }
    .available { color: var(--green); font-weight: 700; }
    .taken { color: var(--red); }
    .actions { display: flex; flex-wrap: wrap; gap: 12px; margin-top: 24px; }
    .actions button { flex: 1 1 150px; padding: 14px; font-size: 15px; }
    .copy-all { background: var(--blue); color: white; }
    .copy-avail { background: #d18616; color: white; }
    .share { background: #9d4edd; color: white; }
    .clear { background: #c94d4d; color: white; }
    .toggle { display: flex; align-items: center; gap: 10px; margin: 12px 0; }
    footer { margin-top: auto; padding: 40px 0 20px; font-size: 14px; opacity: 0.7; text-align: center; }
  </style>
</head>
<body>

  <h1>Roblox Username Sniper (Fixed!)</h1>
  
  <div class="container">
    <label>Batch Size</label>
    <select id="batchSize">
      <option value="5">5</option>
      <option value="10" selected>10</option>
      <option value="20">20</option>
      <option value="30">30 (take your time)</option>
    </select>

    <label>Min Length (6+ recommended â€” short ones gone forever)</label>
    <input type="number" id="minLen" value="6" min="3" max="15" />

    <label>MPH Style</label>
    <select id="mphMode">
      <option value="none">No MPH</option>
      <option value="prefix">Prefix (MPH...)</option>
      <option value="suffix">Suffix (...MPH)</option>
    </select>

    <label>Keyword/Base (optional â€” e.g. Ace, Ohio, Pro)</label>
    <input type="text" id="keyword" placeholder="e.g. Ace" />

    <button id="generateBtn">Snipe & Check Batch</button>

    <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
    <div class="status" id="status">Ready â€” hit Snipe!</div>

    <div class="toggle">
      <input type="checkbox" id="showOnlyAvail" />
      <label for="showOnlyAvail">Show only AVAILABLE ðŸ”¥</label>
    </div>

    <ul id="resultList"></ul>

    <div class="actions">
      <button class="copy-all" id="copyAllBtn">Copy All</button>
      <button class="copy-avail" id="copyAvailBtn">Copy Available</button>
      <button class="share" id="shareBtn">Share Winners</button>
      <button class="clear" id="clearBtn">Clear List</button>
    </div>
  </div>

  <footer>RoProxy-powered â€¢ Real-time checks â€¢ Verify on roblox.com/signup â€¢ Ace's Columbus tool 2026 ðŸŒ™</footer>

  <script>
    const generateBtn   = document.getElementById('generateBtn');
    const statusDiv     = document.getElementById('status');
    const resultList    = document.getElementById('resultList');
    const progressBar   = document.getElementById('progressBar');
    const copyAllBtn    = document.getElementById('copyAllBtn');
    const copyAvailBtn  = document.getElementById('copyAvailBtn');
    const shareBtn      = document.getElementById('shareBtn');
    const clearBtn      = document.getElementById('clearBtn');
    const showOnlyAvail = document.getElementById('showOnlyAvail');

    const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
    const delayMs = 800; // safer rate

    let results = [];

    function randomChar() { return chars[Math.floor(Math.random() * chars.length)]; }

    function generateBase(minLen) {
      const maxLen = 20;
      const len = Math.floor(Math.random() * (maxLen - minLen + 1)) + minLen;
      let name = '';
      let underscore = false;

      for (let i = 0; i < len; i++) {
        let ch = randomChar();
        if (ch === '_' && underscore) ch = randomChar();
        if (ch === '_') underscore = true;
        name += ch;
      }

      if (name.startsWith('_') || name.endsWith('_')) return generateBase(minLen);
      return name;
    }

    function applyMph(name, mode) {
      if (mode === 'none') return name;
      if (mode === 'prefix') return 'MPH' + name;
      if (mode === 'suffix') return name + 'MPH';
      return name;
    }

    async function isTaken(username) {
      try {
        // Primary: POST to resolve usernames â†’ if returns data â†’ taken
        const proxy = 'https://users.roproxy.com/v1/usernames/users';
        const res = await fetch(proxy, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ usernames: [username], excludeBannedUsers: false })
        });
        if (!res.ok) throw new Error('POST failed');
        const data = await res.json();
        if (data.data && data.data.length > 0) return true; // has user ID â†’ taken

        // Fallback: old validate GET
        const validateUrl = `https://auth.roproxy.com/v1/usernames/validate?username=${encodeURIComponent(username)}&context=Signup`;
        const vRes = await fetch(validateUrl);
        if (!vRes.ok) return true; // assume taken on error
        const vData = await vRes.json();
        return vData.code !== 0; // anything not 0 = taken/invalid
      } catch (err) {
        console.error('Check failed for', username, err);
        return true; // conservative: treat errors as taken
      }
    }

    async function snipeBatch() {
      generateBtn.disabled = true;
      generateBtn.textContent = 'Sniping...';
      statusDiv.textContent = 'Starting batch â€” patience is key ðŸ”¥';
      statusDiv.style.background = '#21262d';
      resultList.innerHTML = '';
      progressBar.style.width = '0%';
      results = [];

      const size = parseInt(document.getElementById('batchSize').value);
      const minLen = parseInt(document.getElementById('minLen').value) || 6;
      const mph = document.getElementById('mphMode').value;
      const keyword = (document.getElementById('keyword').value || '').trim();

      for (let i = 0; i < size; i++) {
        let base = keyword ? keyword + generateBase(Math.max(minLen - keyword.length, 3)) : generateBase(minLen);
        base = base.slice(0, 20 - (mph !== 'none' ? 3 : 0)); // room for MPH
        let name = applyMph(base, mph);

        statusDiv.textContent = `Trying: ${name} ...`;
        const taken = await isTaken(name);
        const available = !taken;

        results.push({ name, available });

        const percent = Math.round(((i + 1) / size) * 100);
        progressBar.style.width = percent + '%';

        renderList();

        await new Promise(r => setTimeout(r, delayMs));
      }

      statusDiv.textContent = `Batch done! Found ${results.filter(r => r.available).length} available ðŸš€`;
      statusDiv.style.background = results.some(r => r.available) ? 'rgba(0,255,157,0.2)' : '#21262d';
      generateBtn.disabled = false;
      generateBtn.textContent = 'Snipe Another Batch';
    }

    function renderList() {
      resultList.innerHTML = '';
      const onlyAvail = showOnlyAvail.checked;
      const shown = onlyAvail ? results.filter(r => r.available) : results;

      if (shown.length === 0) {
        resultList.innerHTML = '<li style="color:#8b949e; text-align:center; padding:20px;">No results â€” or none available yet ðŸ˜…</li>';
        return;
      }

      shown.forEach(r => {
        const li = document.createElement('li');
        li.innerHTML = `<span>${r.name}</span><span class="${r.available ? 'available' : 'taken'}">${r.available ? 'AVAILABLE ðŸ”¥' : 'Taken'}</span>`;
        resultList.appendChild(li);
      });
    }

    function getAvailable() { return results.filter(r => r.available).map(r => r.name); }
    function getAll() { return results.map(r => r.name); }

    copyAllBtn.onclick = () => {
      if (!results.length) return;
      navigator.clipboard.writeText(getAll().join('\n'));
      copyAllBtn.textContent = 'All Copied!';
      setTimeout(() => copyAllBtn.textContent = 'Copy All', 2000);
    };

    copyAvailBtn.onclick = () => {
      const avail = getAvailable();
      if (!avail.length) return alert('No available yet â€” try bigger batch!');
      navigator.clipboard.writeText(avail.join('\n'));
      copyAvailBtn.textContent = 'Available Copied!';
      setTimeout(() => copyAvailBtn.textContent = 'Copy Available', 2000);
    };

    shareBtn.onclick = () => {
      const avail = getAvailable();
      if (!avail.length) return alert('No winners to share!');
      const text = `Sniped some rare Roblox usernames:\n${avail.join('\n')}\n\nGrab quick on roblox.com/signup!\nVia Ace's sniper tool ðŸš€`;
      navigator.clipboard.writeText(text);
      shareBtn.textContent = 'Share Copied!';
      setTimeout(() => shareBtn.textContent = 'Share Winners', 2000);
    };

    clearBtn.onclick = () => {
      results = [];
      resultList.innerHTML = '';
      progressBar.style.width = '0%';
      statusDiv.textContent = 'Cleared â€” ready for next round!';
    };

    showOnlyAvail.onchange = renderList;
    generateBtn.addEventListener('click', snipeBatch);
  </script>
</body>
</html>
